<!-- Navbar -->
<nav class="navbar navbar-dark bg-dark fixed-top">
  <div class="container-fluid">
      <div>
          <button class="btn btn-dark me-2 nav-icon-btn" type="button" (click)="toggleSidebar()"
              [attr.title]="isSidebarOpen ? 'Close Sidebar' : 'Open Sidebar'">
              <i [ngClass]="isSidebarOpen ? 'bi bi-layout-sidebar-inset' : 'bi bi-layout-sidebar'"></i>
          </button>
      </div>

      <div class="ms-auto">
          <button class="btn btn-dark nav-icon-btn" (click)="toggleNotificationPanel()" title="Notifications">
              <i [ngClass]="isNotificationOpen ? 'bi bi-bell-fill' : 'bi bi-bell'"></i>
          </button>
          <button class="btn btn-dark nav-icon-btn" type="button" (click)="logout()" title="Log Out">
              <i class="bi bi-power"></i>
          </button>
      </div>
  </div>
</nav>

<div class="d-flex" style="height: 100vh; overflow: hidden;">
  <!-- Sidebar -->
  <div class="sidebar bg-dark text-white vh-100 d-flex flex-column align-items-center"
      [class.shrinked]="!isSidebarOpen">
      <h4 class="text-center w-100 admin-label" *ngIf="isSidebarOpen">User Panel</h4>

      <ul class="nav flex-column w-100">
          <li class="nav-item mb-2">
              <button class="btn btn-dark w-100 d-flex align-items-center sidebar-btn" (click)="showSection('dashboard')"
                  [attr.title]="isSidebarOpen ? '' : 'Dashboard'">
                  <i class="bi bi-speedometer2"></i>
                  <span *ngIf="isSidebarOpen">Dashboard</span>
              </button>
          </li>
          <li class="nav-item mb-2">
              <button class="btn btn-dark w-100 d-flex align-items-center sidebar-btn" (click)="showSection('user-log')"
                  [attr.title]="isSidebarOpen ? '' : 'Attendance Log'">
                  <i class="bi bi-calendar-check"></i>
                  <span *ngIf="isSidebarOpen">Attendance Log</span>
              </button>
          </li>
          <button class="btn btn-dark w-100 d-flex align-items-center sidebar-btn" (click)="showSection('wfh-request')"
                  [attr.title]="isSidebarOpen ? '' : 'Request Form'">
                  <i class="bi bi-journal-text"></i>
                  <span *ngIf="isSidebarOpen">Request Form</span>
              </button>
          
      </ul>
  </div>

  <!-- Main Content Area -->
  <div class="container-fluid main-content" [ngClass]="{'collapsed': !isSidebarOpen}">
      <router-outlet></router-outlet>
  </div>

  <!-- Notification Sidebar -->
  <div class="notification-sidebar bg-light shadow-lg p-3"
      [ngClass]="{'open': isNotificationOpen}">
      <h5 class="text-secondary d-flex justify-content-between">
          Notifications
          <button class="btn btn-sm btn-danger" (click)="toggleNotificationPanel()">Ã—</button>
      </h5>
      <ul class="list-group">
          <li class="list-group-item" *ngFor="let notification of notifications">
              {{ notification }}
          </li>
      </ul>
  </div>
</div>
